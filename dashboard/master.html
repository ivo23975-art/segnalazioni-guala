<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MASTER – Pannello di Controllo</title>

<link rel="stylesheet" href="master.css">
<script src="master.js" defer></script>
</head>

<body onload="checkMasterLogin()">

<div class="header">
    <div class="header-title">MASTER – Gestione Utenti & Struttura</div>
    <button class="logout" onclick="logoutMaster()">Logout</button>
</div>

<div class="panel glass">

    <!-- LINK GENERALI -->
    <section>
        <h2>Link App & Dashboard</h2>
        <ul id="linkList"></ul>
    </section>

    <!-- CREAZIONE UTENTE -->
    <section>
        <h2>Crea nuovo utente App</h2>

        <label>Username</label>
        <input type="text" id="newUser">

        <label>PIN (6 cifre)</label>
        <input type="text" id="newPin" maxlength="6">

        <button class="btn-primary" onclick="createUser()">Crea Utente</button>
        <button class="btn-secondary" onclick="generatePin()">Genera PIN Automatico</button>
    </section>

    <!-- LISTA UTENTI -->
    <section>
        <h2>Utenti App Registrati</h2>
        <table class="table" id="usersTable">
            <thead>
                <tr>
                    <th>Username</th>
                    <th>PIN</th>
                    <th>Stato</th>
                    <th>Azioni</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </section>

    <!-- LOG ATTIVITÀ -->
    <section>
        <h2>Registro attività MASTER</h2>
        <button class="btn-secondary" onclick="exportLog()">Scarica LOG</button>

        <table class="table" id="logTable">
            <thead>
                <tr>
                    <th>Data</th>
                    <th>Azione</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </section>

    <!-- INFO -->
    <section>
        <h2>LEGGIMI</h2>
        <p>
            Il pannello MASTER controlla l'accesso degli utenti dell'app (login PIN).
            Qui puoi creare utenti, generarli automaticamente, attivarli, bloccarli o eliminarli.
        </p>
    </section>

</div>

</body>
</html>
