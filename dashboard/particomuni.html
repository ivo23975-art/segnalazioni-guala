<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<title>Parti Comuni – Segnalazioni attive</title>

<link rel="stylesheet" href="dashboard.css">

<!-- FIREBASE -->
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>

<!-- CONFIG -->
<script src="firebase-config.js"></script>

<!-- AUTH -->
<script src="admin-auth.js"></script>

<!-- DASHBOARD -->
<script src="dashboard.js"></script>

<style>
.logout-btn{
  position:absolute;
  top:15px;
  right:20px;
  background:#ff0000;
  color:white;
  padding:10px 18px;
  border-radius:6px;
  font-weight:bold;
  cursor:pointer;
}
</style>
</head>

<body>

<a class="logout-btn" onclick="adminLogout()">Logout</a>

<div class="header">Parti Comuni – Segnalazioni attive</div>

<div class="content">

<!-- ======================
     SEGNALAZIONI (INVARIATE)
====================== -->
<table class="table">
<thead>
<tr>
<th>Data</th>
<th>Scala</th>
<th>Piano</th>
<th>Lato</th>
<th>Nome</th>
<th>Temp</th>
<th>Tipo</th>
<th>Descrizione</th>
<th>Risolvi</th>
</tr>
</thead>
<tbody id="tbody"></tbody>
</table>

</div>

<script>
requireRole("particomuni");

/* SEGNALAZIONI */
loadSegnalazioni(
  r => (r.tipo === "Parti comuni" || r.tipo === "particomuni") && r.stato === "attiva"
);
</script>

</body>
</html>
